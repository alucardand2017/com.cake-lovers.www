@model com.cake_lovers.www.Models.MetodoPagamento

@{
    ViewData["Title"] = "Métodos de Pagamento";
}

<div class="container mt-5">
    <h2 class="mb-4">Métodos de Pagamento</h2>

    <form asp-action="ProcessPayment" method="post">
        <div class="form-group mb-3">
            <h4>Escolha o método de pagamento:</h4>
            <div class="form-check">
                <input class="form-check-input" type="radio" id="creditCard" name="PaymentMethod" value="CreditCard" required>
                <label class="form-check-label" for="creditCard">Cartão de Crédito</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" id="pix" name="PaymentMethod" value="Pix" required>
                <label class="form-check-label" for="pix">Pix</label>
            </div>
        </div>

        <!-- Informações do Cartão de Crédito -->
        <div id="creditCardInfo" class="d-none">
            <h5 class="mb-3">Informações do Cartão de Crédito</h5>
            <div class="form-group mb-3 col-4">
                <label for="cardNumber">Número do Cartão:</label>
                <input type="text" class="form-control" id="cardNumber" name="CardNumber" maxlength="16" />
            </div>
            <div class="form-row">
                <div class="form-group col-4 mb-3">
                    <label for="expiryDate">Data de Validade:</label>
                    <input type="text" class="form-control" id="expiryDate" name="ExpiryDate" placeholder="MM/AA" />
                </div>
                <div class="form-group col-4 mb-3">
                    <label for="cvv">CVV:</label>
                    <input type="text" class="form-control" id="cvv" name="CVV" maxlength="3" />
                </div>
            </div>
        </div>

        <!-- Informações do Pix -->
        <div id="pixInfo" class="d-none">
            <h5 class="mb-3">Pagamento via Pix</h5>
            <p>Para realizar o pagamento via Pix, escaneie o código QR ou copie o código Pix e cole em seu aplicativo bancário.</p>
            <div class="alert alert-info">
                <strong>Código Pix:</strong> abc123xyz
            </div>
        </div>

        <button type="submit" class="btn btn-primary mt-4">Pagar</button>
    </form>
</div>

@section Scripts {
    <script>
        document.querySelectorAll('input[name="PaymentMethod"]').forEach((radio) => {
            radio.addEventListener('change', function () {
                document.getElementById('creditCardInfo').classList.toggle('d-none', this.value !== 'CreditCard');
                document.getElementById('pixInfo').classList.toggle('d-none', this.value !== 'Pix');
            });
        });
    </script>
}
